<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inscription</title>
  <link rel="stylesheet" href="/style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>

  <div class="container">

    <div style="text-align: right; margin-top: 10px;">
      <a href="/">Retour à l'accueil</a>
  </div>

    <div class="panda-animation">
      <img src="/images/panda1.png" class="panda active" alt="Panda 1">
      <img src="/images/panda2.png" class="panda" alt="Panda 2">
    </div>

    <h1>Créer un compte</h1>

    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <form method="POST" action="/signup">
      <input type="text" name="username" placeholder="Nom d'utilisateur" required>
      <input type="email" name="email" placeholder="Email" required>

      <div class="password-container">
        <input type="password" name="password" id="password" placeholder="Mot de passe" required="" />
        <span class="password-toggle" id="togglePassword"><i class="fas fa-eye"></i></span>
      </div> 

       <div class="password-container">
                <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirmer le mot de passe" required="" />
                <span class="password-toggle" id="toggleConfirmPassword"><i class="fas fa-eye"></i></span>
        </div> 

      <button type="submit">S'inscrire</button>
    </form>

    <p>Déjà inscrit ? <a href="/login">Connexion</a></p>
  </div>

  <!-- Script d'animation Panda -->
  <script>
    const pandas = document.querySelectorAll('.panda');
    let currentPanda = 0;

    setInterval(() => {
      pandas[currentPanda].classList.remove('active');
      currentPanda = (currentPanda + 1) % pandas.length;
      pandas[currentPanda].classList.add('active');
    }, 1500);
  
    function setupToggle(passwordId, toggleId) {
      const passwordInput = document.getElementById(passwordId);
      const toggleButton = document.getElementById(toggleId);
      const toggleIcon = toggleButton.querySelector('i');
  
      toggleButton.addEventListener('click', function () {
        const isPassword = passwordInput.type === 'password';
        passwordInput.type = isPassword ? 'text' : 'password';
        toggleIcon.classList.toggle('fa-eye');
        toggleIcon.classList.toggle('fa-eye-slash');
      });
    }
  
    setupToggle('password', 'togglePassword');
    setupToggle('confirmPassword', 'toggleConfirmPassword');

  </script>

</body>
</html>
